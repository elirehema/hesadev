(window.webpackJsonp=window.webpackJsonp||[]).push([[43,35],{1019:function(t,e,n){"use strict";n.r(e);n(37);var r=n(1039);e.default=Object(r.MapElementFactory)({name:"directionsRenderer",ctr:function(){return window.google.maps.DirectionsRenderer},events:["directions_changed"],mappedProps:{routeIndex:{type:Number},options:{type:Object},panel:{},directions:{type:Object}},props:{origin:{type:[Object,Array],twoWay:!0},destination:{type:[Object,Array],twoWay:!0},waypoints:{type:Array},travelMode:{type:String},optimizeWaypoints:{type:Boolean},provideRouteAlternatives:{type:Boolean}},afterCreate:function(t){var e=this,n=new window.google.maps.DirectionsService;this.$watch((function(){return[e.origin,e.destination,e.travelMode,e.waypoints,e.optimizeWaypoints]}),(function(){var r=e.origin,o=e.destination,l=e.travelMode,c=e.waypoints,d=e.optimizeWaypoints;r&&o&&l&&c&&n.route({origin:r,destination:o,travelMode:l,waypoints:c,optimizeWaypoints:d},(function(e,n){"OK"===n&&t.setDirections(e)}))}))}})},1076:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAACHklEQVRoge2ZvWsUQRiHn3cnCKIkewnp9DQQVDz1H7ASEpsIVkGsjYWdSMA/QoKIpDmTUjSkFuQOLNIfxCYKSXF+NZEgFwMJ3t6+FnuSmOSOXGaWUZin2o959zfP7swwsBDwi7h+oN4dLZGmU8A4cL59uY5SQaM5WVxbcZnnTEAnSyeIdmZAHwCmQ7MWqrPEg9NSrjVd5DoRyDq//QYYwxgYuQLFSzAwBI0NeLewr4AqcWHChUSf7QMAsjfPGCdPwfXbEA/v3lM92F4Yp/HjCfDQNtr6C7TH/HuMMdy4k3V+ewuWl2C9Ds2OLzmB1jVZ+PTBJj+yKQYgTe8DhpGru52vvoRvq906D9AHZso23l4gW22geDE7W16CXztHrb1pG+5CoAhA/1B2tl7vpfacbbiLSZzN0s2NbMJ2HzaH11rgQuAzUDqwVB691gr7IaRUjl8rb23jHQhEc0DrGJUJpjVvG28tIItrK6jO9lyoPJdX9Y+2+S5WIYgHp1GqPVRUiAuPXUQ7EZByrUlcmACeAUmXpgnKUwYKt/6pzdxedHL0MlF6j7MXHvH9a3Zx+Ax8WZ2BZN5267Af5wJ/UP17FyciuWS5mQMeCQK+CQK+CQK+CQK+CQK+CQK+CQK+CQK+CQK+CQK+CQJdqHU4dkqeAi/2HJdzzMkHVT2tqg1V/amq/XnluPnNeggisqWqrwEVkc28cnITaPP/DZ1Aj/wGGaydt6lFdt4AAAAASUVORK5CYII="},1199:function(t,e,n){"use strict";n.r(e);n(20),n(19),n(12),n(8),n(27),n(14),n(28);var r=n(7),o=n(1),l=(n(59),n(177));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={components:{DirectionsRenderer:n(1019).default},props:{stores:{type:Array,default:null},routes:{type:Array,default:null}},data:function(){return Object(o.a)({generate:!0,rounded:!0,kay:0,center:{lat:-6.764392,lng:39.229297},currentPlace:null,markers:[],places:[],valid:!0,startLocation:null,endLocation:null,endLocation2:null,startdate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),startdatemenu:!1,enddate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),enddatemenu:!1,locations:null,regions:null,region:null,districts:null,district:null,frequency:null,frequencies:["DAILY","WEEKLY","BYWEEKLY","MONTHLY"],group:null,groups:[1,2,3,4,5,6,7,8,9,10],outlet:0,zones:null,zoneId:null,country:"Tanzania"},"region",null)},created:function(){this._fetch_regions()},methods:{setPlace:function(t){this.currentPlace=t},_filter_routes:function(){if(this.$refs.form.validate()){var t={startDate:this.startdate,endDate:this.enddate},e={body:this.page,params:t};this.$emit("update",e)}},_generate_route:function(){this.addMarker(),this.generate=!this.generate},addMarker:function(){this.center=this.computedcenter;var t=JSON.parse(JSON.stringify(this.allroutes));this.locations=t},_fetch_regions:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var param,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return param={country:t.country},e.next=3,t.$api.$get("/zone/get",{params:param});case 3:n=e.sent,t.regions=JSON.parse(JSON.stringify(n));case 5:case"end":return e.stop()}}),e)})))()},_fetch_zones:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var param;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.zones=null,null==t.country||null==t.district||null==t.region){e.next=5;break}return param={country:t.country,region:t.region,district:t.district},e.next=5,t.$api.$get("/zone/get",{params:param}).then((function(e){t.zones=e}));case 5:case"end":return e.stop()}}),e)})))()},fetchDistricts:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var param;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.districts=null,""==t.region&&null==t.region){e.next=5;break}return param={country:t.country,region:t.region},e.next=5,t.$api.$get("/zone/get",{params:param}).then((function(e){t.districts=e}));case 5:case"end":return e.stop()}}),e)})))()}},computed:d(d({},Object(l.c)({})),{},{allroutes:function(){return this.routes},computedcenter:function(){return this.routes[1].start}})},m=n(153),f=n(228),y=n.n(f),h=n(1022),_=n(996),w=n(985),x=n(1170),k=n(425),A=n(1023),C=n(249),O=n(301),S=n(125),D=n(433),j=n(1005),V=n(976),z=n(155),P=n(991),Q=n(227),I=n(1169),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"outlined",attrs:{color:"white",tile:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"py-5 px-5",attrs:{cols:"12",sm:"12",md:"5"}},[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",sm:"12"}},[r("label",{staticClass:"text-button   font-weight-light"},[t._v("Region")]),t._v(" "),r("v-select",{attrs:{items:t.regions,"item-text":"name","item-value":"name",placeholder:"Select region",outlined:""},on:{focus:t._fetch_regions,change:function(e){return t.fetchDistricts()}},model:{value:t.region,callback:function(e){t.region=e},expression:"region"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"12"}},[r("label",{staticClass:"text-button   font-weight-light"},[t._v("District")]),t._v(" "),r("v-select",{attrs:{items:t.districts,disabled:null==t.region,"item-text":"name","item-value":"name",placeholder:"Select district",outlined:""},on:{change:function(e){return t._fetch_zones()}},model:{value:t.district,callback:function(e){t.district=e},expression:"district"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"5"}},[r("label",{staticClass:"text-button   font-weight-light"},[t._v("Zone")]),t._v(" "),r("v-select",{attrs:{items:t.zones,disabled:null==t.district,"item-text":"name","item-value":"id",placeholder:"Select Zone",outlined:""},model:{value:t.zoneId,callback:function(e){t.zoneId=e},expression:"zoneId"}})],1),t._v(" "),r("v-spacer"),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"5"}},[r("label",{staticClass:"text-button   font-weight-light"},[t._v("Number of outlets")]),t._v(" "),r("v-text-field",{attrs:{readonly:"",placeholder:"Number of outlets",outlined:""},model:{value:t.outlet,callback:function(e){t.outlet=e},expression:"outlet"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"5"}},[r("label",{staticClass:"text-button   font-weight-light"},[t._v("Frequency")]),t._v(" "),r("v-select",{attrs:{items:t.frequencies,placeholder:"Select Frequency",outlined:""},model:{value:t.frequency,callback:function(e){t.frequency=e},expression:"frequency"}})],1),t._v(" "),r("v-spacer"),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"5"}},[r("label",{staticClass:"text-button   font-weight-light"},[t._v("Groups")]),t._v(" "),r("v-select",{attrs:{items:t.groups,placeholder:"Select group",outlined:""}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"9"}},[r("label",{staticClass:"text-button   font-weight-light"},[t._v("Start date")]),t._v(" "),r("v-menu",{ref:"startdatemenu",attrs:{"close-on-content-click":!1,"return-value":t.startdate,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.startdate=e},"update:return-value":function(e){t.startdate=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("v-text-field",t._g(t._b({attrs:{placeholder:"Start date",readonly:"",outlined:"",required:"",rules:[function(t){return!!t||"Field is required"}]},model:{value:t.startdate,callback:function(e){t.startdate=e},expression:"startdate"}},"v-text-field",o,!1),n))]}}]),model:{value:t.startdatemenu,callback:function(e){t.startdatemenu=e},expression:"startdatemenu"}},[t._v(" "),r("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.startdate,callback:function(e){t.startdate=e},expression:"startdate"}},[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.startdatemenu=!1}}},[t._v("\n                  Cancel\n                ")]),t._v(" "),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.startdatemenu.save(t.startdate)}}},[t._v("\n                  OK\n                ")])],1)],1),t._v(" "),r("label",{staticClass:"text-button   font-weight-light"},[t._v("End date")]),t._v(" "),r("v-menu",{ref:"enddatemenu",attrs:{"close-on-content-click":!1,"return-value":t.enddate,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.enddate=e},"update:return-value":function(e){t.enddate=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("v-text-field",t._g(t._b({attrs:{placeholder:"End date",readonly:"",outlined:"",required:"",rules:[function(t){return!!t||"Field is required"}]},model:{value:t.enddate,callback:function(e){t.enddate=e},expression:"enddate"}},"v-text-field",o,!1),n))]}}]),model:{value:t.enddatemenu,callback:function(e){t.enddatemenu=e},expression:"enddatemenu"}},[t._v(" "),r("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.enddate,callback:function(e){t.enddate=e},expression:"enddate"}},[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.enddatemenu=!1}}},[t._v("\n                  Cancel\n                ")]),t._v(" "),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.enddatemenu.save(t.enddate)}}},[t._v("\n                  OK\n                ")])],1)],1)],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"2"}}),t._v(" "),r("v-col",{staticClass:"d-flex align-center justify-end",attrs:{cols:"12",sm:"12",md:"1"}},[r("v-btn",{class:t.isTablet?"py-6":"py-6 mb-3",attrs:{block:!t.isTablet,"min-height":"50","max-width":"50",outlined:"",text:""},on:{click:t._filter_routes}},[r("v-icon",{attrs:{color:"primary"}},[t._v("mdi-swap-vertical")])],1)],1)],1)],1),t._v(" "),t.generate?r("v-btn",{staticClass:"py-5",attrs:{block:"",color:"primary",disabled:t.allroutes.length<1},on:{click:function(e){return e.stopPropagation(),t._generate_route()}}},[t._v(t._s(t.$t("label.button.generateroute")))]):r("v-row",{staticClass:"mt-8",attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",sm:"12",md:"3"}},[r("v-btn",{class:t.$vuetify.breakpoint.mdAndDown?"py-5 lowercase":"py-5",attrs:{color:"bgcolor",elevation:"0",block:t.$vuetify.breakpoint.mdAndDown},on:{click:function(e){return e.stopPropagation(),t._generate_route()}}},[t._v(t._s(t.$t("label.button.regenerateroute")))])],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"4"}}),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"3"}},[r("v-btn",{class:t.$vuetify.breakpoint.mdAndDown?"py-5 lowercase mt-2":"py-5 ",attrs:{color:"primary",block:t.$vuetify.breakpoint.mdAndDown}},[t._v(t._s(t.$t("label.button.assignroute")))])],1)],1),t._v(" "),t.stores.length>0?r("div",{staticClass:"mt-9"},[r("div",{staticClass:"d-flex justify-space-between"},[r("p",{staticClass:"font-weight-bold text-uppercase"},[t._v("Shops on the route")]),t._v(" "),r("p",{staticClass:"font-weight-bold success--text"},[t._v(t._s(t.stores.length))])]),t._v(" "),r("v-divider"),t._v(" "),r("v-virtual-scroll",{attrs:{bench:"0",items:t.stores,height:"1000","item-height":"64"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item;return[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",{staticClass:"d-flex justify-start font-weight-bold",domProps:{textContent:t._s(n.name)}}),t._v(" "),r("v-list-item-subtitle",{staticClass:"d-flex justify-start mt-2"},[t._v(t._s(n.address))])],1)],1),t._v(" "),r("v-divider")]}}],null,!1,3342725715)}),t._v(" "),r("div",{staticClass:"d-flex align-center justify-center"},[r("p",{staticClass:"primary--text text-overline pa-8"},[t._v("View all")])])],1):t._e()],1),t._v(" "),r("v-col",{staticClass:"pa-4",attrs:{cols:"12",sm:"12",md:"7"}},[t.allroutes.length>0?r("v-sheet",{staticClass:"pa-1",attrs:{rounded:t.rounded,elevation:"3",width:"100%",color:"grey lighten-5"}},[r("GmapMap",{staticStyle:{width:"100%",height:"800px"},attrs:{center:t.center,zoom:7,"map-type-id":t.mapType,options:t.mapStyle}},[t.allroutes.length>0?r("div",t._l(t.locations,(function(t,i){return r("DirectionsRenderer",{key:t.start,attrs:{travelMode:"DRIVING",origin:t.start,destination:t.end}})})),1):t._e(),t._v(" "),t._l(t.locations,(function(e,o){return r("gmap-marker",{key:e.start,attrs:{position:t.google&&new t.google.maps.LatLng(e.start),clickable:!0,draggable:!0,icon:{url:n(1076)},animation:2},on:{click:function(n){return t.handleMarkerClicked(e)}}})}))],2)],1):t._e()],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;y()(component,{DirectionsRenderer:n(1019).default}),y()(component,{VBtn:h.a,VCard:_.a,VCol:w.a,VDatePicker:x.a,VDivider:k.a,VForm:A.a,VIcon:C.a,VListItem:O.a,VListItemContent:S.a,VListItemSubtitle:S.b,VListItemTitle:S.c,VMenu:D.a,VRow:j.a,VSelect:V.a,VSheet:z.a,VSpacer:P.a,VTextField:Q.a,VVirtualScroll:I.a})}}]);